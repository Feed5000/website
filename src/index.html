<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Way - Welcome</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles for the carousel */
        body {
            font-family: 'Inter', sans-serif;
        }
        .carousel-track {
            /* This transition will be applied when snapping to a slide */
            transition: transform 0.3s ease-in-out;
        }
        .carousel-slide {
            /* Ensure slides don't shrink */
            flex-shrink: 0;
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Sticky Header -->
    <header class="sticky top-0 bg-white/80 backdrop-blur-md shadow-sm z-10">
        <div class="max-w-2xl mx-auto py-4 px-4 text-center">
            <h1 class="text-3xl font-bold text-gray-800">Welcome</h1>
            <p class="mt-2 text-gray-600">You've made the best decision of your life. Now what? Here are your first steps as a new follower of Christ</p>
        </div>
    </header>

    <!-- Main content area that will scroll -->
    <main class="flex items-center justify-center py-12">
        <div class="w-full max-w-2xl mx-auto p-4">
            <!-- Carousel Container -->
            <div id="carousel" class="relative overflow-hidden rounded-lg bg-white shadow-lg">
                
                <!-- Carousel Track: This holds all the slides -->
                <div id="carousel-track" class="flex">
                    
                    <!-- Slide 1 -->
                    <div class="carousel-slide w-full p-8 md:p-12 flex flex-col items-center text-center">
                        <div class="w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mb-4">
                            <svg class="fill-indigo-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M224 360C224 373.3 213.3 384 200 384C186.7 384 176 373.3 176 360L176 247.4L264.2 127.7C277.3 109.9 273.5 84.9 255.7 71.8C237.9 58.7 212.9 62.5 199.8 80.3L106.5 206.9C89.3 230.2 80 258.5 80 287.6L80 398.3L21.9 417.7C8.8 422 0 434.2 0 448L0 544C0 554 4.7 563.5 12.7 569.5C20.7 575.5 31.1 577.5 40.8 574.7L195.2 530.6C250.2 514.9 288 464.7 288 407.5L288 288C288 270.3 273.7 256 256 256C238.3 256 224 270.3 224 288L224 360zM416 360L416 288C416 270.3 401.7 256 384 256C366.3 256 352 270.3 352 288L352 407.6C352 464.8 389.9 515 444.8 530.7L599.2 574.8C608.9 577.6 619.2 575.6 627.3 569.6C635.4 563.6 640 554 640 544L640 448C640 434.2 631.2 422 618.1 417.6L560 398.2L560 287.5C560 258.5 550.7 230.2 533.5 206.8L440.2 80.3C427.1 62.5 402.1 58.7 384.3 71.8C366.5 84.9 362.7 109.9 375.8 127.7L464 247.4L464 360C464 373.3 453.3 384 440 384C426.7 384 416 373.3 416 360z"/></svg>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">Step 1: Pray</h3>
                            <p class="text-gray-600"><b>Prayer is simply talking to God.</b> You don't need fancy words. Tell Him what's on your mind. Thank Him for what He's done, and ask for His help. He's always listening.</p>
                    </div>
                    
                    <!-- Slide 2 -->
                    <div class="carousel-slide w-full p-8 md:p-12 flex flex-col items-center text-center">
                        <div class="w-16 h-16 bg-teal-100 text-teal-600 rounded-full flex items-center justify-center mb-4">
                            <svg class="fill-teal-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M320 205.3L320 514.6L320.5 514.4C375.1 491.7 433.7 480 492.8 480L512 480L512 160L492.8 160C450.6 160 408.7 168.4 369.7 184.6C352.9 191.6 336.3 198.5 320 205.3zM294.9 125.5L320 136L345.1 125.5C391.9 106 442.1 96 492.8 96L528 96C554.5 96 576 117.5 576 144L576 496C576 522.5 554.5 544 528 544L492.8 544C442.1 544 391.9 554 345.1 573.5L332.3 578.8C324.4 582.1 315.6 582.1 307.7 578.8L294.9 573.5C248.1 554 197.9 544 147.2 544L112 544C85.5 544 64 522.5 64 496L64 144C64 117.5 85.5 96 112 96L147.2 96C197.9 96 248.1 106 294.9 125.5z"/></svg>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">Step 2: Read the Bible</h3>
                            <p class="text-gray-600">The <b>Bible is God's message to you.</b> Start with the <b>Gospel of John</b> to learn about how the first Christians lived.
                                <ul><li><b>Tip:</b> Try a free app like YouVersion for easy reading plans.</p>
                    </div>

                    <!-- Slide 3 -->
                    <div class="carousel-slide w-full p-8 md:p-12 flex flex-col items-center text-center">
                        <div class="w-16 h-16 bg-rose-100 text-rose-600 rounded-full flex items-center justify-center mb-4">
                            <svg class="fill-rose-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M344 56C344 42.7 333.3 32 320 32C306.7 32 296 42.7 296 56L296 80L264 80C250.7 80 240 90.7 240 104C240 117.3 250.7 128 264 128L296 128L296 176L197.4 241.8C184 250.7 176 265.6 176 281.7L176 320L96.2 365.6C76.3 377 64 398.2 64 421.1L64 512C64 547.3 92.7 576 128 576C202.7 576 213.4 576 448 576L512 576C547.3 576 576 547.3 576 512L576 421.1C576 398.1 563.7 376.9 543.8 365.5L464 320L464 281.7C464 265.7 456 250.7 442.6 241.8L344 176L344 128L376 128C389.3 128 400 117.3 400 104C400 90.7 389.3 80 376 80L344 80L344 56zM320 384C355.3 384 384 412.7 384 448L384 528L256 528L256 448C256 412.7 284.7 384 320 384z"/></svg>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">Step 3: Find a Church</h3>
                        <p class="text-gray-600">You're now part of God's family! Find a local church to connect with other believers, learn more about the Bible, and get support. It's a place to grow together.</p>
                    </div>

                    <!-- Slide 4 -->
                    <div class="carousel-slide w-full p-8 md:p-12 flex flex-col items-center text-center">
                        <div class="w-16 h-16 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mb-4">
                            <svg class="fill-amber-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M525.2 82.9C536.7 88 544 99.4 544 112L544 528C544 540.6 536.7 552 525.2 557.1C513.7 562.2 500.4 560.3 490.9 552L444.3 511.3C400.7 473.2 345.6 451 287.9 448.3L287.9 544C287.9 561.7 273.6 576 255.9 576L223.9 576C206.2 576 191.9 561.7 191.9 544L191.9 448C121.3 448 64 390.7 64 320C64 249.3 121.3 192 192 192L276.5 192C338.3 191.8 397.9 169.3 444.4 128.7L491 88C500.4 79.7 513.9 77.8 525.3 82.9zM288 384L288 384.2C358.3 386.9 425.8 412.7 480 457.6L480 182.3C425.8 227.2 358.3 253 288 255.7L288 384z"/></svg>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">Step 4: Let us know</h3>
                        <p class="text-gray-600">Your story is powerful, tell us about it. Share your decision to follow Jesus with us on X @kyletanderson</p>
                    </div>

                </div>

                <!-- Navigation Dots -->
                <div id="carousel-dots" class="absolute bottom-4 left-0 right-0 flex justify-center space-x-2">
                    <!-- Dots will be generated by JavaScript -->
                </div>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const carousel = document.getElementById('carousel');
            const track = document.getElementById('carousel-track');
            const slides = Array.from(track.children);
            const dotsContainer = document.getElementById('carousel-dots');

            // --- State Variables ---
            let currentIndex = 0;
            let isDragging = false;
            let startPos = 0;
            let currentTranslate = 0;
            let prevTranslate = 0;
            let animationID;
            let slideWidth = slides.length > 0 ? slides[0].getBoundingClientRect().width : 0;

            // --- Setup ---
            function initializeCarousel() {
                if (slides.length === 0) return;
                // Calculate slide width on init and resize
                slideWidth = slides[0].getBoundingClientRect().width;
                // Position slides correctly
                slides.forEach((slide, index) => {
                    slide.style.left = `${index * slideWidth}px`;
                });
                // Create navigation dots
                createDots();
                // Update UI to reflect the initial state
                updateUI();
            }

            // --- Event Listeners ---
            function setupEventListeners() {
                if (slides.length === 0) return;
                // Window resize
                window.addEventListener('resize', () => {
                    // Recalculate dimensions and snap to the correct slide
                    slideWidth = slides[0].getBoundingClientRect().width;
                    setSliderPosition();
                });

                // Keyboard navigation
                document.addEventListener('keydown', handleKeyDown);
                // Touch events
                carousel.addEventListener('touchstart', touchStart, { passive: true });
                carousel.addEventListener('touchmove', touchMove, { passive: true });
                carousel.addEventListener('touchend', touchEnd);

                // Mouse events (for desktop)
                carousel.addEventListener('mousedown', touchStart);
                carousel.addEventListener('mousemove', touchMove);
                carousel.addEventListener('mouseup', touchEnd);
                carousel.addEventListener('mouseleave', touchEnd);
                
                // Prevent default drag behavior on images/links
                carousel.addEventListener('dragstart', (e) => e.preventDefault());
            }

            // --- Keyboard Handler ---
            function handleKeyDown(event) {
                if (event.key === 'ArrowLeft') {
                    if (currentIndex > 0) {
                        currentIndex--;
                        setSliderPosition();
                    }
                } else if (event.key === 'ArrowRight') {
                    if (currentIndex < slides.length - 1) {
                        currentIndex++;
                        setSliderPosition();
                    }
                }
            }

            // --- Event Handlers ---
            function touchStart(event) {
                // Get the starting position (for both touch and mouse)
                startPos = getPositionX(event);
                isDragging = true;
                // Disable transition for smooth dragging
                track.style.transition = 'none';
                // Store the current translate value
                prevTranslate = currentTranslate;
                // Start animation frame loop for smooth updates
                animationID = requestAnimationFrame(animation);
            }

            function touchMove(event) {
                if (isDragging) {
                    // Calculate how far the cursor/finger has moved
                    const currentPosition = getPositionX(event);
                    currentTranslate = prevTranslate + currentPosition - startPos;
                }
            }

            function touchEnd() {
                if (!isDragging) return;
                isDragging = false;
                // Stop the animation frame loop
                cancelAnimationFrame(animationID);

                // Calculate how much was swiped
                const movedBy = currentTranslate - prevTranslate;

                // Determine if the swipe was significant enough to change slides
                // Threshold is 30% of the slide width
                if (movedBy < -slideWidth * 0.3 && currentIndex < slides.length - 1) {
                    currentIndex += 1;
                } else if (movedBy > slideWidth * 0.3 && currentIndex > 0) {
                    currentIndex -= 1;
                }

                // Snap to the new slide position
                setSliderPosition();
            }

            // --- Helper Functions ---
            function getPositionX(event) {
                // Return the horizontal position for either touch or mouse events
                return event.type.includes('mouse') ? event.pageX : event.touches[0].clientX;
            }

            function animation() {
                // Update the track's position during the drag
                track.style.transform = `translateX(${currentTranslate}px)`;
                // Continue the loop if dragging
                if (isDragging) requestAnimationFrame(animation);
            }


            function setSliderPosition() {
                // Calculate the new translate value based on the current index
                currentTranslate = currentIndex * -slideWidth;
                // Apply the new position with a smooth transition
                track.style.transition = 'transform 0.3s ease-in-out';
                track.style.transform = `translateX(${currentTranslate}px)`;
                // Update the UI (dots)
                updateUI();
            }

            // --- UI Update Functions ---
            function createDots() {
                // Clear existing dots
                dotsContainer.innerHTML = '';
                // Create a dot for each slide
                slides.forEach((_, index) => {
                    const button = document.createElement('button');
                    button.classList.add('carousel-dot', 'w-3', 'h-3', 'rounded-full', 'transition-colors', 'duration-300');
                    button.addEventListener('click', () => {
                        currentIndex = index;
                        setSliderPosition();
                    });
                    dotsContainer.appendChild(button);
                });
            }

            function updateUI() {
                // Update the active state of the navigation dots
                const dots = Array.from(dotsContainer.children);
                dots.forEach((dot, index) => {
                    if (index === currentIndex) {
                        dot.classList.add('bg-indigo-600');
                        dot.classList.remove('bg-gray-300');
                    } else {
                        dot.classList.add('bg-gray-300');
                        dot.classList.remove('bg-indigo-600');
                    }
                });
            }

            // --- Initialization ---
            initializeCarousel();
            setupEventListeners();
        });
    </script>

</body>
</html>
